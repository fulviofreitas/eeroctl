{
  $schema: "https://docs.renovatebot.com/renovate-schema.json",

  // ============================================================================
  // Base Configuration
  // ============================================================================
  extends: ["config:recommended", ":semanticCommits"],

  // Timezone for scheduling
  timezone: "America/Los_Angeles",

  // Create PRs immediately (override default schedule)
  schedule: ["at any time"],

  // Disable rate limiting
  prHourlyLimit: 0,
  prConcurrentLimit: 0,

  // Branch naming
  branchPrefix: "deps/",

  // ============================================================================
  // Commit & PR Title Format
  // ============================================================================
  // When auto-merge uses squash, the PR title becomes the commit message.
  // Both must follow conventional commits format for commitlint to pass.
  commitMessagePrefix: "chore(deps):",
  commitMessageAction: "update",
  prTitle: "chore(deps): update {{{depName}}} to {{{newVersion}}}",

  // Prevent long release notes in commit body (avoids commitlint failures)
  commitBody: "",
  commitBodyTable: false,

  // ============================================================================
  // Labels & Dashboard
  // ============================================================================
  labels: ["dependencies", "renovate", "automerge"],
  dependencyDashboard: true,
  dependencyDashboardTitle: "游닍 Renovate Dependency Dashboard",
  dependencyDashboardAutoclose: true,
  dependencyDashboardApproval: false,

  // Allow recreating closed PRs
  recreateWhen: "auto",

  // PR body template
  prBodyTemplate: "{{{header}}}{{{table}}}{{{warnings}}}{{{notes}}}{{{changelogs}}}{{{controls}}}{{{footer}}}",
  fetchChangeLogs: "pr",

  // ============================================================================
  // Package Rules
  // ============================================================================
  packageRules: [
    // ==========================================================================
    // 游릭 eero-api - Internal dependency (feature release)
    // ==========================================================================
    // Updates trigger minor version bump via feat(deps): prefix
    // Note: Match all Python managers to ensure consistent behavior
    {
      matchPackageNames: ["eero-api"],
      matchManagers: ["pep621", "poetry", "pip_requirements", "pip-compile"],
      groupName: "eero-api",
      description: "游릭 eero-api update (triggers minor release)",
      automerge: true,
      automergeType: "pr",
      automergeStrategy: "squash",
      addLabels: ["eero-api", "feature", "critical", "needs-review"],
      prPriority: 10,
      commitMessagePrefix: "feat(deps):",
      commitMessageExtra: "{{newVersion}}",
      prTitle: "feat(deps): update eero-api to {{{newVersion}}}",
      prBodyNotes: [
        "## 游릭 eero-api Update",
        "",
        "This PR updates `eero-api`, the core API client for eero network communication.",
        "",
        "### Links",
        "- [eero-api on PyPI](https://pypi.org/project/eero-api/)",
        "- [eero-api Repository](https://github.com/fulviofreitas/eero-api)",
        "- [eero-api Releases](https://github.com/fulviofreitas/eero-api/releases)",
      ],
    },

    // ==========================================================================
    // 游리 Python dependencies: Group minor/patch updates
    // ==========================================================================
    {
      matchManagers: ["pep621", "poetry", "pip_requirements", "pip-compile"],
      matchUpdateTypes: ["minor", "patch"],
      groupName: "python-minor-patch",
      description: "Python minor/patch updates (auto-merge)",
      automerge: true,
      automergeType: "pr",
      automergeStrategy: "squash",
      commitMessagePrefix: "chore(deps-python):",
      prTitle: "chore(deps-python): update python dependencies",
    },

    // ==========================================================================
    // 游릭 GitHub Actions: Auto-merge minor/patch updates
    // ==========================================================================
    {
      matchManagers: ["github-actions"],
      matchUpdateTypes: ["minor", "patch"],
      groupName: "github-actions",
      description: "GitHub Actions minor/patch updates (auto-merge)",
      automerge: true,
      automergeType: "pr",
      automergeStrategy: "squash",
      commitMessagePrefix: "chore(deps-actions):",
      prTitle: "chore(deps-actions): update github actions",
    },

    // ==========================================================================
    // 游댯 Major updates: Require review
    // ==========================================================================
    {
      matchUpdateTypes: ["major"],
      description: "Major updates require manual review",
      automerge: false,
      addLabels: ["major-update", "needs-review"],
      reviewers: ["fulviofreitas"],
      commitMessagePrefix: "chore(deps-major):",
      prTitle: "chore(deps-major): update {{{depName}}} to {{{newVersion}}}",
    },

    // ==========================================================================
    // 游릮 Security updates: High priority
    // ==========================================================================
    {
      matchDepTypes: ["devDependencies", "dependencies"],
      matchUpdateTypes: ["patch"],
      matchPackageNames: ["*"],
      prPriority: 20,
      description: "Security patches get high priority",
    },
  ],

  // Vulnerability alerts
  vulnerabilityAlerts: {
    enabled: true,
    labels: ["security", "critical", "automerge"],
    automerge: true,
  },
}
